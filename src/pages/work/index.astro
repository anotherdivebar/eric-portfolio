---
import Base from "../../layouts/Base.astro";
import { getCollection } from "astro:content";

const caseStudies = (await getCollection("case-studies")).sort(
  (a, b) => a.data.order - b.data.order
);
---

<Base title="Work - Eric">
  <!-- Case studies only, no filler -->
  <section class="py-16">
    <div class="page-container">
      <div class="max-w-2xl">
        <h1 class="text-4xl font-semibold text-ink">Work / Case Studies</h1>
        <p class="mt-3 text-muted">
          A few projects that show how I work and what I ship.
        </p>
      </div>
      <div class="mt-10 grid gap-5">
        {caseStudies.map((study) => (
          <article class="surface p-6">
            <div class="flex flex-wrap items-center justify-between gap-2">
              <h2 class="text-xl font-semibold">{study.data.title}</h2>
              <span class="text-sm text-muted">{study.data.category}</span>
            </div>
            <p class="mt-3 text-muted">{study.data.summary}</p>
            <p class="mt-4 font-semibold">{study.data.impact}</p>
            <a
              class="focus-ring mt-4 inline-flex text-sm font-semibold text-accent hover:text-accent-dark"
              href={`/work/${study.slug}`}
            >
              Read case study
            </a>
          </article>
        ))}
      </div>
    </div>
  </section>
</Base>
